webpackJsonp([6],{"I+CA":function(e,t){},pORc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("woOf"),r=a.n(l),o=a("aK6G"),n=a("Ju7D"),i=(a("yt7g"),{data:function(){return{listData:[],query:{Book_id:"",Type_id:"",Book_name:"",Author:""},page:{total:0,pageSize:20,currentPage:1},options:[{value:"default",label:"default"}]}},created:function(){this.getList(),this.getBookType()},methods:{search:function(){this.getList()},clearFilter:function(){r()(this.query,{Book_id:"",Type_id:"",Book_name:"",Author:""}),this.getList()},handleSizeChange:function(e){this.page.pageSize=e},handleCurrentChange:function(e){this.page.currentPage=e,console.log("当前页: "+e,this.page.currentPage),this.getList()},getList:function(){var e=this;o.a.list(r()({page:{current:this.page.currentPage,size:this.page.pageSize}},this.query)).then(function(t){var a=t.data;e.page.total=a.total,e.listData=a.records}).catch(function(){}).finally(function(){e.loading=!1})},getBookType:function(){var e=this;n.a.bookTypeDictionary().then(function(t){e.options=t.data}).catch(function(){})}}}),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-col",{attrs:{span:24}},[a("base-card",[a("el-form",{staticClass:"searchForm",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"书本编号"}},[a("el-input",{attrs:{placeholder:"请输入书本编号",clearable:""},model:{value:e.query.Book_id,callback:function(t){e.$set(e.query,"Book_id",t)},expression:"query.Book_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"书本类型"}},[a("el-select",{attrs:{placeholder:"请选择书本类型"},model:{value:e.query.Type_id,callback:function(t){e.$set(e.query,"Type_id",t)},expression:"query.Type_id"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"书本名称"}},[a("el-input",{attrs:{placeholder:"请输入书本名称",clearable:""},model:{value:e.query.Book_name,callback:function(t){e.$set(e.query,"Book_name",t)},expression:"query.Book_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"作者"}},[a("el-input",{attrs:{placeholder:"请输入作者名字",clearable:""},model:{value:e.query.Author,callback:function(t){e.$set(e.query,"Author",t)},expression:"query.Author"}})],1),e._v(" "),a("div",{staticClass:"searchBtn"},[a("el-button",{on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{on:{click:e.clearFilter}},[e._v("清除所有搜索")])],1)],1),e._v(" "),a("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.listData}},[a("el-table-column",{attrs:{prop:"Book_id",label:"书本编号",width:"80",fixed:"","column-key":"Book_id",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Book_name",label:"书本名字",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Author",label:"作者"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Type_id",label:"书本类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Pub_company",label:"出版社"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Brief",label:"内容摘要"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PUB_DATE",label:"出版时间",type:"date"}})],1),e._v(" "),a("div",{staticClass:"pageBlock"},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,20,30,50,100],"page-size":e.page.pageSize,total:e.page.total,layout:"total, sizes, prev, pager, next, jumper",page:e.page.currentPage,limit:e.page.pageSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:page":function(t){return e.$set(e.page,"currentPage",t)},"update:limit":function(t){return e.$set(e.page,"pageSize",t)}}})],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(i,s,!1,function(e){a("I+CA")},"data-v-7f059651",null);t.default=u.exports}});
//# sourceMappingURL=6.e261db6db8da2898ddfe.js.map